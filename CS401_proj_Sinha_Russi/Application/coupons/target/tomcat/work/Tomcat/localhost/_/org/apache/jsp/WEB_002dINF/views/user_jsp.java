/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2017-11-19 08:05:52 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.views;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class user_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("<style>\r\n");
      out.write(".bodyContainer{\r\n");
      out.write("\tborder-radius: 10px;\r\n");
      out.write("\tbackground-color: white;\r\n");
      out.write("\tborder: 1px solid grey;\r\n");
      out.write("\tpadding: 25px;\r\n");
      out.write("\tmin-height: 350px\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .couponHolder{\r\n");
      out.write("\tpadding: 15px;\r\n");
      out.write("}\r\n");
      out.write("#newcoupons .btnHolder{\r\n");
      out.write("\tmargin-top: 40px;\r\n");
      out.write("}\r\n");
      out.write("#newcoupons .btnHolder .btnManual,\r\n");
      out.write("#newcoupons .btnHolder .btnImport{\r\n");
      out.write("\tfont-size: 25px;\r\n");
      out.write("\tbox-shadow: 0px 0px 10px grey;\r\n");
      out.write("\ttransition: all 0.1s linear;\r\n");
      out.write("\tpadding: 20px 40px;\r\n");
      out.write("}\r\n");
      out.write("#newcoupons .btnHolder .btnManual:hover,\r\n");
      out.write("#newcoupons .btnHolder .btnImport:hover{\r\n");
      out.write("\ttransform: scale(1.04);\r\n");
      out.write("\tbox-shadow: 8px 8px 10px grey;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".couponForm .input-group{\r\n");
      out.write("\tmargin: 10px 0;\r\n");
      out.write("}\r\n");
      out.write(".couponForm .input-group-addon{\r\n");
      out.write("\tmin-width: 130px;\r\n");
      out.write("\ttext-align: right;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.stitched {\r\n");
      out.write("   position: relative;\r\n");
      out.write("   padding: 20px;\r\n");
      out.write("   margin: 10px;\r\n");
      out.write("   font-size: 21px;\r\n");
      out.write("   font-weight: bold;\r\n");
      out.write("   line-height: 1.3em;\r\n");
      out.write("   border-radius: 10px;\r\n");
      out.write("   font-weight: normal;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.stitched.unused {\r\n");
      out.write("   background: #ff8c55;\r\n");
      out.write("   color: #fff;\r\n");
      out.write("   border: 2px dashed #fff;\r\n");
      out.write("   box-shadow: 0 0 0 4px #ff8c55, 2px 1px 6px 4px rgba(10, 10, 0, 0.5);\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.stitched.redeemed {\r\n");
      out.write("\tbackground: #81c875;\r\n");
      out.write("\tcolor: #fff;\r\n");
      out.write("\tborder: 2px dashed #fff;\r\n");
      out.write("\tbox-shadow: 0 0 0 4px #81c875, 2px 1px 6px 4px rgba(10, 10, 0, 0.5)\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.stitched.expired {\r\n");
      out.write("   background: #807f7f;\r\n");
      out.write("   color: lightgray;\r\n");
      out.write("   border: 2px dashed #fff;\r\n");
      out.write("   box-shadow: 0 0 0 4px #807f7f, 2px 1px 6px 4px rgba(10, 10, 0, 0.5);\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon .percent {\r\n");
      out.write("\tposition: absolute;\r\n");
      out.write("\tright: 20px;\r\n");
      out.write("\tbottom: 10px;\r\n");
      out.write("\tfont-size: 81px;\r\n");
      out.write("\tfont-style: italic;\r\n");
      out.write("\tfont-family: fantasy;\r\n");
      out.write("\tcolor: rgba(255, 255, 255, 0.3);\r\n");
      out.write("\tline-height: 1;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon .cname {\r\n");
      out.write("\ttext-transform: uppercase;\r\n");
      out.write("\tfont-family: monospace;\r\n");
      out.write("\tfont-weight: bold;\r\n");
      out.write("\tfont-size: 35px;\r\n");
      out.write("\tline-height: 0.8;\r\n");
      out.write("\tword-break: break-word;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon .price .old {\r\n");
      out.write("\ttext-decoration: line-through;\r\n");
      out.write("\ttext-decoration-color: darkslategrey;\r\n");
      out.write("\ttext-decoration-style: double;\r\n");
      out.write("\tcolor: darkred;\r\n");
      out.write("\tmargin-right: 10px;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon .price .new {\r\n");
      out.write("\tcolor: #275527;\r\n");
      out.write("\tfont-weight: bold;\r\n");
      out.write("\tfont-size: 25px;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon .expiry {\r\n");
      out.write("\tfont-size: 16px;\r\n");
      out.write("\tfont-weight: bold;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon .expiry span {\r\n");
      out.write("\tfont-size: 21px;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.unused .expiry {\r\n");
      out.write("\tcolor: #a16161;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.redeemed .expiry{\r\n");
      out.write("\tcolor: transparent;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon .copn_cover{\r\n");
      out.write("    position: absolute;\r\n");
      out.write("    left: 0;\r\n");
      out.write("    right: 0;\r\n");
      out.write("    top: 0;\r\n");
      out.write("    bottom: 0;\r\n");
      out.write("    border-radius: 10px;\r\n");
      out.write("    transition: all 0.2s linear;\r\n");
      out.write("\tbackground-color: rgba(71, 71, 71, 0.7);\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon .copn_cover table.status,\r\n");
      out.write(".couponDisp .coupon .copn_cover table.action{\r\n");
      out.write("\twidth: 100%;\r\n");
      out.write("\theight: 100%;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.unused .copn_cover{\r\n");
      out.write("    opacity: 0;\r\n");
      out.write("    z-index: -1;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.unused:hover .copn_cover{\r\n");
      out.write("    opacity: 1;\r\n");
      out.write("    z-index: 5;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.unused .copn_cover table.status{\r\n");
      out.write("\tdisplay: none;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon:not(.unused) .copn_cover table.action{\r\n");
      out.write("\tdisplay: none;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.redeemed .copn_cover,\r\n");
      out.write(".couponDisp .coupon.expired .copn_cover{\r\n");
      out.write("    opacity: 1;\r\n");
      out.write("\tz-index: 5;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.redeemed:hover .copn_cover,\r\n");
      out.write(".couponDisp .coupon.expired:hover .copn_cover{\r\n");
      out.write("    opacity: 0;\r\n");
      out.write("    z-index: -1;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon .copn_cover table.status span{\r\n");
      out.write("\tfont-size: 50px;\r\n");
      out.write("\ttext-transform: uppercase;\r\n");
      out.write("\tline-height: 1;\r\n");
      out.write("\ttransform: rotate(-8deg);\r\n");
      out.write("\tposition: relative;\r\n");
      out.write("\tdisplay: inline-block;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.redeemed .copn_cover table.status span{\r\n");
      out.write("\tcolor: #60eb6b;\r\n");
      out.write("\tfont-family: stamps2;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon.expired .copn_cover table.status span{\r\n");
      out.write("\tcolor: #eb6060;\r\n");
      out.write("\tfont-family: stamps2;\r\n");
      out.write("}\r\n");
      out.write("#mycoupons .couponDisp .coupon.new .copn_cover table.action button.btnDelete,\r\n");
      out.write("#mycoupons .couponDisp .coupon.unused:not(.new) .copn_cover table.action button.btnRedeem,\r\n");
      out.write("#browse .couponDisp .coupon .copn_cover table.action button.btnBuy{\r\n");
      out.write("\tdisplay: block;\r\n");
      out.write("\tvisibility: visible;\r\n");
      out.write("}\r\n");
      out.write(".couponDisp .coupon .copn_cover table.action button.btnRedeem,\r\n");
      out.write(".couponDisp .coupon .copn_cover table.action button.btnDelete,\r\n");
      out.write(".couponDisp .coupon .copn_cover table.action button.btnBuy{\r\n");
      out.write("\tdisplay: none;\r\n");
      out.write("\tvisibility: hidden;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("#mycoupons .couponDisp .coupon.new .copn_cover table.action button.btnDelete,\r\n");
      out.write("#mycoupons .couponDisp .coupon.unused .copn_cover table.action button.btnRedeem,\r\n");
      out.write("#browse .couponDisp .coupon .copn_cover table.action button.btnBuy{\r\n");
      out.write("\tmargin-top: -30px;\r\n");
      out.write("\topacity: 0;\r\n");
      out.write("\tfont-size: 20px;\r\n");
      out.write("\ttransition: all 0.3s cubic-bezier(.87,.19,.64,.59);\r\n");
      out.write("\tanimation-name: slidedown;\r\n");
      out.write("}\r\n");
      out.write("#mycoupons .couponDisp .coupon.unused:hover .copn_cover table.action button.btnRedeem,\r\n");
      out.write("#mycoupons .couponDisp .coupon.new:hover .copn_cover table.action button.btnDelete,\r\n");
      out.write("#browse .couponDisp:hover .coupon .copn_cover table.action button.btnBuy{\r\n");
      out.write("\tmargin-top: 0px;\r\n");
      out.write("\topacity: 1;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write(".couponDisp .coupon:not(.new) .pointer{\r\n");
      out.write("\tvisibility: hidden;\r\n");
      out.write("\tdisplay: none;\r\n");
      out.write("}\r\n");
      out.write(".pointer {\r\n");
      out.write("    width: 60px;\r\n");
      out.write("    height: 40px;\r\n");
      out.write("    position: absolute;\r\n");
      out.write("    background: #5d76f1;\r\n");
      out.write("    top: -5px;\r\n");
      out.write("    right: -5px;\r\n");
      out.write("}\r\n");
      out.write(".pointer:before {\r\n");
      out.write("    content: \"\";\r\n");
      out.write("    position: absolute;\r\n");
      out.write("    left: -20px;\r\n");
      out.write("    bottom: 0;\r\n");
      out.write("    width: 0;\r\n");
      out.write("    height: 0;\r\n");
      out.write("    border-right: 20px solid #5d76f1;\r\n");
      out.write("    border-top: 20px solid transparent;\r\n");
      out.write("    border-bottom: 20px solid transparent;\r\n");
      out.write("}\r\n");
      out.write(".pointer .txt{\r\n");
      out.write("\tposition: absolute;\r\n");
      out.write("    top: 7px;\r\n");
      out.write("    left: 4px;\r\n");
      out.write("    font-weight: bold;\r\n");
      out.write("    font-family: stamps;\r\n");
      out.write("    color: #ff9999;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("#mycoupons .extras{\r\n");
      out.write("\tpadding: 5px 0px;\r\n");
      out.write("\tbackground: #45a7c6;\r\n");
      out.write("\tborder-bottom-left-radius: 10px;\r\n");
      out.write("\tborder-bottom-right-radius: 10px;\r\n");
      out.write("}\r\n");
      out.write("#mycoupons .extras .filterSelect{\r\n");
      out.write("\toverflow: hidden;\r\n");
      out.write("\theight: 54px;\r\n");
      out.write("}\r\n");
      out.write("#mycoupons .extras .section{\r\n");
      out.write("\tpadding-top: 10px;\r\n");
      out.write("\tpadding-bottom: 10px;\r\n");
      out.write("}\r\n");
      out.write("#mycoupons .extras .sectionSearch{\r\n");
      out.write("\ttransition: all 0.3s linear\r\n");
      out.write("}\r\n");
      out.write("#mycoupons .extras.sortShow .sectionSearch{\r\n");
      out.write("\tmargin-top: -54px\r\n");
      out.write("}\r\n");
      out.write("#mycoupons .extras.sortShow .btnFilterSrt.btnactive,\r\n");
      out.write("#mycoupons .extras.sortShow .btnFilterSrch.btnactive{\r\n");
      out.write("\tbackground-color: grey;\r\n");
      out.write("}\r\n");
      out.write("#mycoupons .extras.searchShow .sectionSearch{\r\n");
      out.write("\tmargin-top: 0px\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("</style>\r\n");
      out.write("<div class=\"bodyContainer container\">\r\n");
      out.write("\t<ul class=\"nav nav-tabs\">\r\n");
      out.write("\t\t<li class=\"active tab1\"><a data-toggle=\"tab\" href=\"#mycoupons\">My Coupons</a></li>\r\n");
      out.write("\t\t<li class=\"tab2\"><a data-toggle=\"tab\" href=\"#newcoupons\">Add coupons</a></li>\r\n");
      out.write("\t\t<li class=\"tab3\"><a data-toggle=\"tab\" href=\"#browse\">Browse All</a></li>\r\n");
      out.write("\t\t<li class=\"tab4 pull-right hidden\" style=\"float: right;\">\r\n");
      out.write("\t\t\t<button class=\"btn btn-success\" style=\"font-size: 18px;\">Save changes to database</button>\r\n");
      out.write("\t\t</li>\r\n");
      out.write("\t</ul>\r\n");
      out.write("\t\r\n");
      out.write("\t<div class=\"tab-content\">\r\n");
      out.write("\t\t<div id=\"mycoupons\" class=\"tab-pane fade in active\">\r\n");
      out.write("\t\t\t<div class=\"extras clearfix sortShow\">\r\n");
      out.write("\t\t\t\t<div class=\"col-xs-4 section\">\r\n");
      out.write("\t\t\t\t\t<span class=\"btn-group\">\r\n");
      out.write("\t\t\t\t\t\t<span class=\"btn btn-default btn-primary btnFilterSrt\" add=\"sortShow\">Sort</span>\r\n");
      out.write("\t\t\t\t\t\t<span class=\"btn btn-default btnFilterSrch\" add=\"searchShow\">Search</span>\r\n");
      out.write("\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"col-xs-4 section\">\r\n");
      out.write("\t\t\t\t\t<select class=\"searchField form-control\">\r\n");
      out.write("\t\t\t\t\t\t<option value=\"_name\">Name</option>\r\n");
      out.write("\t\t\t\t\t\t<option value=\"_product_name\">Product Name</option>\r\n");
      out.write("\t\t\t\t\t\t<option value=\"_price\">Price</option>\r\n");
      out.write("\t\t\t\t\t\t<option value=\"_discount\">Discount</option>\r\n");
      out.write("\t\t\t\t\t\t<option value=\"_finalprice\">Final Price</option>\r\n");
      out.write("\t\t\t\t\t\t<option value=\"_expirydate\">Expiry Date</option>\r\n");
      out.write("\t\t\t\t\t</select>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"col-xs-4 filterSelect\">\r\n");
      out.write("\t\t\t\t\t<div class=\"sectionSearch section\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"input-group\">\r\n");
      out.write("\t\t\t\t\t\t\t<input type=\"text\" class=\"searchValue form-control\" />\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"input-group-btn\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"btnSearch btn\">Search</button>\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"btnReset btn\">Reset</button>\r\n");
      out.write("\t\t\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"sectionSort section\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"btn-group\">\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"btn btn-default btnasc\" value=\"asc\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-arrow-up\"></span>\r\n");
      out.write("\t\t\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"btn btn-default btndesc\" value=\"desc\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-arrow-down\"></span>\r\n");
      out.write("\t\t\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div id=\"couponList\" class=\"row couponDisp\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div id=\"couponList_new\" class=\"row couponDisp\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div id=\"newcoupons\" class=\"tab-pane fade\">\r\n");
      out.write("\t\t\t<div class=\"btnHolder text-center clearfix\">\r\n");
      out.write("\t\t\t\t<div class=\"col-xs-6\">\r\n");
      out.write("\t\t\t\t\t<button class=\"btn btn-info btnManual\" data-toggle=\"modal\" data-target=\".couponManual\">Add coupons manually</button>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"col-xs-6\">\r\n");
      out.write("\t\t\t\t\t<button class=\"btn btn-danger btnImport\" data-toggle=\"modal\" data-target=\".couponImport\">Import coupons from file</button>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div id=\"browse\" class=\"tab-pane fade\">\r\n");
      out.write("\t\t\t<div id=\"couponList_others\" class=\"row couponDisp\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("  \r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"modal fade couponManual\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content panel panel-info\">\r\n");
      out.write("\t\t<div class=\"modal-header panel-heading\">\r\n");
      out.write("\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">×</span></button> \r\n");
      out.write("\t\t\t<h4 class=\"modal-title\">Coupon Details</h4>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"modal-body couponForm\">\r\n");
      out.write("\t\t\t<div class=\"input-group\">\r\n");
      out.write("\t\t\t\t<span class=\"input-group-addon\">Coupon Name</span>\r\n");
      out.write("\t\t\t\t<input type=\"text\" maxlength=\"20\" class=\"form-control\" name=\"coupon_name\" placeholder=\"Maximum 20 characters\" />\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"input-group\">\r\n");
      out.write("\t\t\t\t<span class=\"input-group-addon\">Product Name</span>\r\n");
      out.write("\t\t\t\t<input type=\"text\" maxlength=\"20\" class=\"form-control\" name=\"product_name\" placeholder=\"Maximum 20 characters\" />\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"input-group\">\r\n");
      out.write("\t\t\t\t<span class=\"input-group-addon\">Price</span>\r\n");
      out.write("\t\t\t\t<input type=\"number\" min=\"1\" class=\"form-control\" name=\"price\" placeholder=\"USD\" />\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"input-group\">\r\n");
      out.write("\t\t\t\t<span class=\"input-group-addon\">Discount</span>\r\n");
      out.write("\t\t\t\t<input type=\"number\" min=\"0\" max=\"100\" class=\"form-control\" name=\"discount\" placeholder=\"1 - 100\" />\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"input-group\">\r\n");
      out.write("\t\t\t\t<span class=\"input-group-addon\">Expiry Date</span>\r\n");
      out.write("\t\t\t\t<input type=\"date\" class=\"form-control\" name=\"expiry_date\" placeholder=\"MM/DD/YYYY\" />\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"errMsg\"></div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"modal-footer\"> \r\n");
      out.write("\t\t\t<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button> \r\n");
      out.write("\t\t\t<button type=\"button\" class=\"btn btn-info btnAddToList\">Save and add another</button> \r\n");
      out.write("\t\t</div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"modal fade couponImport\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content panel panel-danger\">\r\n");
      out.write("\t\t<div class=\"modal-header panel-heading\"> \r\n");
      out.write("\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">×</span></button> \r\n");
      out.write("\t\t\t<h4 class=\"modal-title\">Import Coupon</h4> \r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"modal-body couponForm\"> \r\n");
      out.write("\t\t\t<div class=\"input-group\">\r\n");
      out.write("\t\t\t\t<span class=\"input-group-addon\">Coupons Count</span>\r\n");
      out.write("\t\t\t\t<input type=\"number\" class=\"form-control\" name=\"arrLength\" placeholder=\"Number of coupons to be imported\" />\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<!-- <input id=\"myfile\" type=\"file\" accept=\".txt\" class=\"form-control\" name=\"coupon_list\" placeholder=\"Coupon Name\" /> -->\r\n");
      out.write("\t\t\t<div class=\"errMsg\"></div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"modal-footer\"> \r\n");
      out.write("\t\t\t<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button> \r\n");
      out.write("\t\t\t<button type=\"button\" class=\"btn btn-danger btnAddToList\">Add to list</button> \r\n");
      out.write("\t\t</div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<div id=\"couponTemplate\" class=\"hidden\">\r\n");
      out.write("<div class=\"col-xs-4 couponHolder\">\r\n");
      out.write("<div class=\"coupon stitched #status# #new_old#\" cid=\"#coupon_id#\">\r\n");
      out.write("<div class=\"cname\">#couponName#</div>\r\n");
      out.write("<div>#productName#</div>\r\n");
      out.write("<div class=\"price\"><span class=\"old\">$#price#</span><span class=\"new\">$#finalprice#</span></div>\r\n");
      out.write("<div class=\"percent\">#discount#%</div>\r\n");
      out.write("<div class=\"expiry\">#daysToExpire#</div>\r\n");
      out.write("<div class=\"copn_cover\">\r\n");
      out.write("\t<table class=\"status\">\r\n");
      out.write("\t\t<tr>\r\n");
      out.write("\t\t\t<td align=\"center\" valign=\"middle\"><span>#status#</span></td>\r\n");
      out.write("\t\t</tr>\r\n");
      out.write("\t</table>\r\n");
      out.write("\t<table class=\"action\">\r\n");
      out.write("\t\t<tr>\r\n");
      out.write("\t\t\t<td align=\"center\" valign=\"middle\">\r\n");
      out.write("\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t<button class=\"btn btn-info btnRedeem\" cid=\"#coupon_id#\">Redeem</button>\r\n");
      out.write("\t\t\t\t\t<button class=\"btn btn-info btnDelete\" cid=\"#coupon_id#\">Delete</button>\r\n");
      out.write("\t\t\t\t\t<button class=\"btn btn-info btnBuy\" cid=\"#coupon_id#\">Add to my list</button>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</td>\r\n");
      out.write("\t\t</tr>\r\n");
      out.write("\t</table>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"pointer\">\r\n");
      out.write("\t<div class=\"txt\">NEW</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("var newcouponsadded = false;\r\n");
      out.write("var sortorder = 'asc';\r\n");
      out.write("$(document).ready(function(){\r\n");
      out.write("\tgetUserCoupons();\r\n");
      out.write("\tgetOtherCoupons();\r\n");
      out.write("\t\r\n");
      out.write("\t$('#mycoupons .extras .btnReset').click(function(){\r\n");
      out.write("\t\tgetUserCoupons();\r\n");
      out.write("\t\tgetOtherCoupons();\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\tvar dt = new Date();\r\n");
      out.write("\tdt.setDate(dt.getDate() + 1);\r\n");
      out.write("\tdate = dt.getUTCFullYear() + '-' + (parseInt(dt.getMonth())+1) + '-' + dt.getDate();\r\n");
      out.write("\t$('.couponManual .couponForm [name=\"expiry_date\"]').attr('min', date)\r\n");
      out.write("\t\r\n");
      out.write("\t$('#mycoupons .extras .btnSearch').click(function(){\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl: \"/user/couponsearch\",\r\n");
      out.write("\t\t\tdata: {column: $('#mycoupons .extras .searchField').val(), \r\n");
      out.write("\t\t\t\tvalue: $('#mycoupons .extras .searchValue').val()},\r\n");
      out.write("\t\t    contentType: \"application/json; charset=utf-8\",\r\n");
      out.write("\t\t    success: function(result) {\r\n");
      out.write("\t\t    \tresult = JSON.parse(result);\r\n");
      out.write("\t\t    \tif(!result.error){\r\n");
      out.write("\t\t    \t\t$('#couponList').html('')\r\n");
      out.write("\t\t\t    \tpopulateCoupons_user(result ,'couponList')\r\n");
      out.write("\t\t    \t}\r\n");
      out.write("\t\t    \telse{\r\n");
      out.write("\t\t    \t\t$('#couponList').html('<h2 class=\"errMsg text-center\">'+result.error+'</h2>')\r\n");
      out.write("\t\t    \t\tconsole.log(result.error)\r\n");
      out.write("\t\t    \t}\r\n");
      out.write("\t\t    },\r\n");
      out.write("\t\t    error: function(err) {\r\n");
      out.write("\t\t    \talert(\"error\")\r\n");
      out.write("\t\t    }\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t$('.couponManual, .couponImport').on('hidden.bs.modal', function (e) {\r\n");
      out.write("\t\t$(this).find('.couponForm .form-control').each(function(){\r\n");
      out.write("\t\t\tthis.value = \"\";\r\n");
      out.write("\t\t})\r\n");
      out.write("\t\t$(this).find('.couponForm .errMsg').html('')\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t$('.couponManual .btnAddToList').click(function(){\r\n");
      out.write("\t\tvar inputdata = {};\r\n");
      out.write("\t\tinputdata.coupon_name = $('.couponManual .couponForm [name=\"coupon_name\"]').val()\r\n");
      out.write("\t\tinputdata.product_name = $('.couponManual .couponForm [name=\"product_name\"]').val()\r\n");
      out.write("\t\tinputdata.price = $('.couponManual .couponForm [name=\"price\"]').val()\r\n");
      out.write("\t\tinputdata.discount = $('.couponManual .couponForm [name=\"discount\"]').val()\r\n");
      out.write("\t\tinputdata.expiry_date = $('.couponManual .couponForm [name=\"expiry_date\"]').val()\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl: \"/user/addcouponstolist_manual\",\r\n");
      out.write("\t\t\tdata: inputdata,\r\n");
      out.write("\t\t    contentType: \"application/json; charset=utf-8\",\r\n");
      out.write("\t\t    success: function(result) {\r\n");
      out.write("\t\t    \tresult = JSON.parse(result);\r\n");
      out.write("\t\t    \tif(!result.error){\r\n");
      out.write("\t\t\t\t\t//console.log(result)\r\n");
      out.write("\t\t\t\t\t$('.couponManual .couponForm .form-control').each(function(){\r\n");
      out.write("\t\t\t\t\t\tthis.value = \"\";\r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t$('.couponManual .couponForm .errMsg').html('')\r\n");
      out.write("\t\t\t        populateCoupons_user(result ,'couponList')\r\n");
      out.write("\t\t    \t}\r\n");
      out.write("\t\t    \telse\r\n");
      out.write("\t\t\t\t\t$('.couponManual .couponForm .errMsg').html(result.error)\r\n");
      out.write("\t\t    \t\tconsole.log(result.error)\r\n");
      out.write("\t\t    },\r\n");
      out.write("\t\t    error: function(err) {\r\n");
      out.write("\t\t    \talert(\"error\")\r\n");
      out.write("\t\t    }\r\n");
      out.write("\t\t});\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t$('.couponImport .btnAddToList').click(function(){\r\n");
      out.write("\t\t//var file = $('.couponImport [name=\"coupon_list\"]')[0].files[0]\r\n");
      out.write("\t\t//var reader = new FileReader();\r\n");
      out.write("\t\t//var inputdata;\r\n");
      out.write("\t\t//reader.onload = function(progressEvent){\r\n");
      out.write("\t\t\t//inputdata = this.result;\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\turl: \"/user/addcouponstolist_import\",\r\n");
      out.write("\t\t\t\tdata: {length: $('.couponImport .couponForm [name=\"arrLength\"]').val()},\r\n");
      out.write("\t\t\t    contentType: \"application/json; charset=utf-8\",\r\n");
      out.write("\t\t\t    success: function(result) {\r\n");
      out.write("\t\t\t    \tresult = JSON.parse(result);\r\n");
      out.write("\t\t\t    \tif(!result.error){\r\n");
      out.write("\t\t\t\t    \t//console.log(result)\r\n");
      out.write("\t\t\t\t    \t$('.couponImport').modal('hide')\r\n");
      out.write("\t\t\t\t    \t$('.nav-tabs .tab1 a').click();\t\r\n");
      out.write("\t\t\t\t    \tpopulateCoupons_user(result, 'couponList')\r\n");
      out.write("\t\t\t    \t}\r\n");
      out.write("\t\t\t    \telse\r\n");
      out.write("\t\t\t\t\t\t$('.couponImport .couponForm .errMsg').html(result.error)\r\n");
      out.write("\t\t\t    \t\tconsole.log(result.error)\r\n");
      out.write("\t\t    \t},\r\n");
      out.write("\t\t\t    error: function(err) {\r\n");
      out.write("\t\t\t    \talert(\"error\")\r\n");
      out.write("\t\t\t    }\r\n");
      out.write("\t\t\t}); \r\n");
      out.write("\r\n");
      out.write("\t\t//};\r\n");
      out.write("\t\t//reader.readAsText(file);\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t$('#mycoupons .extras .btnFilterSrt\t, #mycoupons .extras .btnFilterSrch').click(function(){\r\n");
      out.write("\t\tvar c_add = $(this).attr('add')\r\n");
      out.write("\t\t$('#mycoupons .extras').removeClass('sortShow').removeClass('searchShow').addClass(c_add)\r\n");
      out.write("\t\t$('.btnFilterSrt, .btnFilterSrch').removeClass('btn-primary')\r\n");
      out.write("\t\t$(this).addClass('btn-primary')\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t$('.sectionSort .btnasc, .sectionSort .btndesc').click(function(){\r\n");
      out.write("\t\t$('.sectionSort .btnasc, .sectionSort .btndesc').removeClass('btn-primary')\r\n");
      out.write("\t\t$(this).addClass('btn-primary')\r\n");
      out.write("\t\tsortorder = $(this).attr('value')\r\n");
      out.write("\t\tsort()\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t$('.nav-tabs .tab4 button').click(function(){\r\n");
      out.write("\t\tsavetodb()\r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function sort(){\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl: \"/user/couponsort\",\r\n");
      out.write("\t\tdata: {column: $('#mycoupons .extras .searchField').val(), \r\n");
      out.write("\t\t\torder: sortorder},\r\n");
      out.write("\t    contentType: \"application/json; charset=utf-8\",\r\n");
      out.write("\t    success: function(result) {\r\n");
      out.write("\t    \tresult = JSON.parse(result);\r\n");
      out.write("\t    \t//console.log(result)\r\n");
      out.write("\t    \tpopulateCoupons_user(result ,'couponList')\r\n");
      out.write("\t    },\r\n");
      out.write("\t    error: function(err) {\r\n");
      out.write("\t    \talert(\"error\")\r\n");
      out.write("\t    }\r\n");
      out.write("\t});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function savetodb(){\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl: \"/user/savecoupntodb\",\r\n");
      out.write("\t\tdata: {},\r\n");
      out.write("\t    contentType: \"application/json; charset=utf-8\",\r\n");
      out.write("\t    success: function(result) {\r\n");
      out.write("\t    \tgetUserCoupons();\r\n");
      out.write("\t    \tgetOtherCoupons();\r\n");
      out.write("\t    },\r\n");
      out.write("\t    error: function(err) {\r\n");
      out.write("\t    \talert(\"error\")\r\n");
      out.write("\t    }\r\n");
      out.write("\t});\r\n");
      out.write("}\r\n");
      out.write("function getUserCoupons(){\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl: \"/user/getUserCoupons\",\r\n");
      out.write("\t\tdata: {},\r\n");
      out.write("\t    contentType: \"application/json; charset=utf-8\",\r\n");
      out.write("\t    success: function(result) {\r\n");
      out.write("\t    \tresult = JSON.parse(result);\r\n");
      out.write("\t\t\tif(result.old.length == 0){\r\n");
      out.write("\t\t    \t$('#couponList').html('<h2 class=\"errMsg text-center\">You do not have any coupons.<br/>Why don\\'t you add some to your account.</h2>')\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\telse{\r\n");
      out.write("\t\t    \tpopulateCoupons_user(result, 'couponList')\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t    },\r\n");
      out.write("\t    error: function(err) {\r\n");
      out.write("\t    \talert(\"error\")\r\n");
      out.write("\t    }\r\n");
      out.write("\t});\r\n");
      out.write("}\r\n");
      out.write("function getOtherCoupons(){\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl: \"/coupons/getList\",\r\n");
      out.write("\t\tdata: {},\r\n");
      out.write("\t    contentType: \"application/json; charset=utf-8\",\r\n");
      out.write("\t    success: function(result) {\r\n");
      out.write("\t    \tresult = JSON.parse(result);\r\n");
      out.write("\t    \tpopulateCoupons_others(result, 'couponList_others')\r\n");
      out.write("\t    },\r\n");
      out.write("\t    error: function(err) {\r\n");
      out.write("\t    \talert(\"error\")\r\n");
      out.write("\t    }\r\n");
      out.write("\t});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function populateCoupons_others(result, elmid){\r\n");
      out.write("\t$('#'+elmid).html(\"\");\r\n");
      out.write("\t\r\n");
      out.write("    //console.log(result)\r\n");
      out.write("    for(var i=0; i<result.length; i++){\r\n");
      out.write("    \t$('#'+elmid).append(populateFields(result[i]));\r\n");
      out.write("    }\r\n");
      out.write("    triggercouponclick(elmid)\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function populateCoupons_user(result, elmid){\r\n");
      out.write("\tif(result.new){\r\n");
      out.write("\t\tnewcouponsadded = true;\r\n");
      out.write("\t\t$('.nav-tabs .tab4').removeClass('hidden')\r\n");
      out.write("\t}\r\n");
      out.write("\telse{\r\n");
      out.write("\t\tnewcouponsadded = false;\r\n");
      out.write("\t\t$('.nav-tabs .tab4').addClass('hidden')\r\n");
      out.write("\t}\r\n");
      out.write("\t$('#'+elmid).html(\"\");\r\n");
      out.write("\t//$('#'+elmid+'_new').html(\"\");\r\n");
      out.write("\t\r\n");
      out.write("    //console.log(result)\r\n");
      out.write("    for(var i=0; i<result.old.length; i++){\r\n");
      out.write("    \t$('#'+elmid).append(populateFields(result.old[i]));\r\n");
      out.write("    }\r\n");
      out.write("    //for(var i=0; i<result.new.length; i++){\r\n");
      out.write("    \t//$('#'+elmid+'_new').append(populateFields(result.new[i]));\r\n");
      out.write("    \t//$('#'+elmid).append(populateFields(result.new[i]));\r\n");
      out.write("    //}\r\n");
      out.write("    triggercouponclick(elmid)\r\n");
      out.write("    //triggercouponclick(elmid+'_new')\r\n");
      out.write("}\r\n");
      out.write("function triggercouponclick(elmid){\r\n");
      out.write("\t$('#'+elmid+' .coupon .btnRedeem').unbind('click')\r\n");
      out.write("    $('#'+elmid+' .coupon .btnRedeem').click(function(){\r\n");
      out.write("    \t$.ajax({\r\n");
      out.write("    \t\turl: \"/user/redeemcoupon\",\r\n");
      out.write("    \t\tdata: {'cid': $(this).attr('cid')},\r\n");
      out.write("    \t    contentType: \"application/json; charset=utf-8\",\r\n");
      out.write("    \t    success: function(result) {\r\n");
      out.write("    \t    \tresult = JSON.parse(result);\r\n");
      out.write("    \t    \tpopulateCoupons_user(result ,'couponList')\r\n");
      out.write("    \t    },\r\n");
      out.write("    \t    error: function(err) {\r\n");
      out.write("    \t    \talert(\"error\")\r\n");
      out.write("    \t    }\r\n");
      out.write("    \t});\r\n");
      out.write("\t\t//alert($(this).attr('cid'));\r\n");
      out.write("    });\r\n");
      out.write("\t$('#'+elmid+' .coupon .btnDelete').unbind('click')\r\n");
      out.write("    $('#'+elmid+' .coupon .btnDelete').click(function(){\r\n");
      out.write("    \t$.ajax({\r\n");
      out.write("    \t\turl: \"/user/deletecoupon\",\r\n");
      out.write("    \t\tdata: {'cid': $(this).attr('cid')},\r\n");
      out.write("    \t    contentType: \"application/json; charset=utf-8\",\r\n");
      out.write("    \t    success: function(result) {\r\n");
      out.write("    \t    \tresult = JSON.parse(result);\r\n");
      out.write("    \t    \tpopulateCoupons_user(result ,'couponList')\r\n");
      out.write("    \t    },\r\n");
      out.write("    \t    error: function(err) {\r\n");
      out.write("    \t    \talert(\"error\")\r\n");
      out.write("    \t    }\r\n");
      out.write("    \t});\r\n");
      out.write("\t\t//alert($(this).attr('cid'));\r\n");
      out.write("    });\r\n");
      out.write("\t\r\n");
      out.write("\t$('#'+elmid+' .coupon .btnBuy').unbind('click')\r\n");
      out.write("    $('#'+elmid+' .coupon .btnBuy').click(function(){\r\n");
      out.write("    \t$(this).parents('.couponHolder').hide();\r\n");
      out.write("    \t$.ajax({\r\n");
      out.write("    \t\turl: \"/user/buycoupon\",\r\n");
      out.write("    \t\tdata: {'cid': $(this).attr('cid')},\r\n");
      out.write("    \t    contentType: \"application/json; charset=utf-8\",\r\n");
      out.write("    \t    success: function(result) {\r\n");
      out.write("    \t    \tresult = JSON.parse(result);\r\n");
      out.write("    \t    \tpopulateCoupons_user(result ,'couponList')\r\n");
      out.write("    \t    },\r\n");
      out.write("    \t    error: function(err) {\r\n");
      out.write("    \t    \talert(\"error\")\r\n");
      out.write("    \t    }\r\n");
      out.write("    \t});\r\n");
      out.write("\t\t//alert($(this).attr('cid'));\r\n");
      out.write("    });\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("function populateFields(res){\r\n");
      out.write("\tvar cTemplate = $('#couponTemplate').html();\r\n");
      out.write("\tcTemplate = cTemplate.replace(/#coupon_id#/g, res._cID);\r\n");
      out.write("\tcTemplate = cTemplate.replace(/#couponName#/g, res._name);\r\n");
      out.write("\tcTemplate = cTemplate.replace(/#productName#/g, res._product_name);\r\n");
      out.write("\tcTemplate = cTemplate.replace(/#price#/g, res._price);\r\n");
      out.write("\tcTemplate = cTemplate.replace(/#discount#/g, res._discount);\r\n");
      out.write("\tcTemplate = cTemplate.replace(/#status#/g, res._status);\r\n");
      out.write("\t\r\n");
      out.write("\tif((res._status == 'unused' && !res._saved))\r\n");
      out.write("\t\tcTemplate = cTemplate.replace(/#new_old#/g, 'new');\r\n");
      out.write("\telse\r\n");
      out.write("\t\tcTemplate = cTemplate.replace(/#new_old#/g, '');\r\n");
      out.write("\t\r\n");
      out.write("\tif(res._daystoexpiry > 0)\r\n");
      out.write("\t\tcTemplate = cTemplate.replace(/#daysToExpire#/g, 'expires in <span>' + res._daystoexpiry + '</span> days');\r\n");
      out.write("\telse if(res._daystoexpiry == 0)\r\n");
      out.write("\t\tcTemplate = cTemplate.replace(/#daysToExpire#/g, 'expires <span>today</span>');\r\n");
      out.write("\telse{\r\n");
      out.write("\t\tcTemplate = cTemplate.replace(/#daysToExpire#/g, 'expired <span>' + Math.abs(res._daystoexpiry) + '</span> days ago');\r\n");
      out.write("\t}\r\n");
      out.write("\tcTemplate = cTemplate.replace(/#finalprice#/g, res._finalprice);\r\n");
      out.write("\treturn cTemplate;\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
